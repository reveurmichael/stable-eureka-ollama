```python
def compute_reward(self, pos, action, state):
    hull_angle = state[0]
    vel_x = state[2]
    reached_end = pos[0] > (TERRAIN_LENGTH - TERRAIN_GRASS) * TERRAIN_STEP
    
    # reward for moving forward
    forward_reward = 0.1 if abs(vel_x) > 0.5 else 0
    
    # penalty for falling down or getting stuck
    fall_penalty = -1.0 if pos[1] < 0 or hull_angle > 0.5 else 0
    
    # reward for reaching the end
    end_reward = 10.0 if reached_end else 0
    
    total_reward = forward_reward + fall_penalty + end_reward
    
    return total_reward, {'forward': forward_reward, 'fall': fall_penalty, 'end': end_reward}
```