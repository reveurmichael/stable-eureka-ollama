def compute_reward(self, pos, action, state):
    hull_angle = state[0]
    x_velocity = state[2]
    
    if pos[0] >= (TERRAIN_LENGTH - TERRAIN_GRASS) * TERRAIN_STEP:
        return 10.0, {'end_reached': 10.0}
    elif not self.game_over and abs(hull_angle) < ANGLE_THRESHOLD:
        return -0.1, {'stable_walk': -0.1}
    else:
        if x_velocity > 0:
            return -0.5, {'moving_forward': -0.5}
        else:
            return -10.0, {'fell_down': -10.0}