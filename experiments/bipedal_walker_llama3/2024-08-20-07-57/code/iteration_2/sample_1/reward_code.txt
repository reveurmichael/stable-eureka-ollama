def compute_reward(self, pos, action, state):
    # Calculate distance to goal and normalize it
    distance_to_goal = abs(pos[0] - TERRAIN_LENGTH) / TERRAIN_LENGTH

    # Calculate fitness score (we want to maximize this)
    fitness_score = min(fitness_score_max, pos[1])  # Ensure the agent doesn't exceed the max height

    # Define reward components
    distance_reward = -distance_to_goal  # Punish for being far from the goal
    fitness_reward = fitness_score  # Reward for maximizing the fitness score (up to a certain limit)

    # Combine rewards
    reward = distance_reward + fitness_reward

    individual_reward = {'distance': distance_reward, 'fitness': fitness_reward}

    return reward, individual_reward

# Define constants
TERRAIN_LENGTH = ...  # Length of the terrain
fitness_score_max = ...  # Maximum allowed height for the agent