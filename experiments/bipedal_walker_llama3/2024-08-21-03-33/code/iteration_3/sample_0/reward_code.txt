def compute_reward(self, pos, action, state):
    progress = (pos[0] / TERRAIN_LENGTH) ** 2  # Normalize progress towards goal
    penalty = -0.01 * (state[6] + state[13])  # Scale and normalize penalty term
    fitness_score_bonus = 0.1 * (1 - np.abs(fitness_score))  # Incentivize improving fitness score

    reward = progress + penalty + fitness_score_bonus
    
    individual_reward = {"progress": progress, "penalty": penalty, "fitness_score_bonus": fitness_score_bonus}
    
    return reward, individual_reward